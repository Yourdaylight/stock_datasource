# ============================================
# Stock Datasource 环境变量配置
# ============================================
# 
# 【部署方式选择】
# 
# 场景一：从0到1一键部署（新用户推荐）
#   - 所有基础设施都由 docker-compose 启动
#   - 使用 docker-compose -f docker-compose.yml -f docker-compose.infra.yml up -d
#   - ClickHouse/Redis/Postgres 都在 Docker 容器中
#
# 场景二：已有基础设施（如已有 ClickHouse/Langfuse）
#   - 只启动应用服务
#   - 使用 docker-compose up -d
#   - 修改下面的 CLICKHOUSE_HOST/LANGFUSE_HOST 指向已有服务
#
# ============================================

# ============================================
# 必填：API Keys
# ============================================
TUSHARE_TOKEN=your_tushare_token_here
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4

# ============================================
# ClickHouse 配置
# ============================================
# 【场景一】从0到1：使用 docker-compose.infra.yml 启动的容器
# CLICKHOUSE_HOST=clickhouse
# CLICKHOUSE_PORT=9000
# CLICKHOUSE_USER=clickhouse
# CLICKHOUSE_PASSWORD=clickhouse

# 【场景二】已有 ClickHouse：填写你的地址
# 容器内访问宿主机的容器，需要用容器名或 host.docker.internal
# 示例1: 宿主机上有个叫 langfuse-clickhouse-1 的容器
# CLICKHOUSE_HOST=langfuse-clickhouse-1
# 示例2: 宿主机本地安装的 ClickHouse (需要监听 0.0.0.0)
# CLICKHOUSE_HOST=host.docker.internal

CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=clickhouse
CLICKHOUSE_DATABASE=stock_datasource

# ============================================
# Redis 配置
# ============================================
# 【场景一】使用 docker-compose.infra.yml 启动的 Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=stockredis123
REDIS_DB=1

# 【场景二】已有 Redis：填写你的地址
# REDIS_HOST=host.docker.internal
# REDIS_PASSWORD=your_password

# ============================================
# Langfuse 配置 (AI 可观测性，可选)
# ============================================
# 【场景一】使用 docker-compose.langfuse.yml 启动
# LANGFUSE_HOST=http://langfuse-web:3000

# 【场景二】已有 Langfuse：填写你的地址
# LANGFUSE_HOST=http://host.docker.internal:3000

LANGFUSE_HOST=
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# ============================================
# 应用端口 (宿主机暴露的端口)
# ============================================
APP_PORT=18080

# ============================================
# 可选配置
# ============================================
# 调试模式
DEBUG=false
LOG_LEVEL=INFO

# 数据起始日期
DATA_START_DATE=2020-01-01

# 每日更新时间
DAILY_UPDATE_TIME=18:00
TIMEZONE=Asia/Shanghai

# 邮箱白名单（限制注册）
AUTH_EMAIL_WHITELIST_ENABLED=false
AUTH_EMAIL_WHITELIST_FILE=data/email.txt

# HTTP 代理（用于数据拉取）
HTTP_PROXY_ENABLED=false
HTTP_PROXY_HOST=
HTTP_PROXY_PORT=
