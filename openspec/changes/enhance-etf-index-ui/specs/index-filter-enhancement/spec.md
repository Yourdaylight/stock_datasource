# Capability: 指数筛选条件增强

## ADDED Requirements

### Requirement: 日期切换功能

系统 MUST 支持按交易日期切换查看指数列表数据。

**验收标准**：
- 筛选面板顶部显示日期选择器
- 默认选中最新交易日期
- 选择历史日期后自动刷新列表
- 日期选项来自 API 返回的可用交易日期列表

#### Scenario: 查看历史日期数据

**Given** 用户在指数筛选页面
**When** 用户在日期选择器选择「2026-01-20」
**Then** 指数列表显示 2026-01-20 当日的行情数据
**And** 所有指数的交易数据（开盘、收盘、涨跌幅等）均为该日数据

### Requirement: 无数据提示弹窗

系统 MUST 在用户切换到无数据日期时提供友好提示和引导。

**验收标准**：
- 切换日期后若无数据，弹出提示弹窗
- 弹窗显示提示文案：「当前日期 {date} 暂无数据，是否立即更新？」
- 弹窗提供「前往数据管理」和「取消」按钮
- 弹窗包含 Tip：「您可以在『数据管理』中执行对应的插件来更新数据」

#### Scenario: 切换到无数据日期

**Given** 用户在指数筛选页面
**When** 用户选择一个尚未同步数据的日期
**Then** 系统弹出数据提示弹窗
**And** 弹窗显示所选日期
**And** 用户点击「前往数据管理」后跳转到数据管理页面

### Requirement: 发布机构筛选

系统 MUST 支持按发布机构筛选指数列表。

**验收标准**：
- 筛选面板显示「发布机构」下拉选择框
- 选项来自 API 返回的发布机构列表（中证、上证、深证等）
- 每个选项显示机构名称和对应指数数量
- 选择后自动刷新列表

#### Scenario: 按发布机构筛选指数

**Given** 用户在指数筛选页面
**When** 用户在「发布机构」下拉框选择「中证指数」
**Then** 指数列表仅显示中证指数公司发布的指数
**And** 列表数量统计显示筛选后的指数数量

### Requirement: 涨跌幅区间筛选

系统 MUST 支持按今日涨跌幅区间筛选指数列表。

**验收标准**：
- 筛选面板显示「涨跌幅」下拉选择框
- 提供固定区间选项：全部、上涨、下跌、涨幅>1%、涨幅>2%、跌幅>1%、跌幅>2%
- 选择后自动刷新列表

#### Scenario: 筛选上涨指数

**Given** 用户在指数筛选页面
**When** 用户在「涨跌幅」下拉框选择「上涨」
**Then** 指数列表仅显示今日涨跌幅为正的指数
**And** 列表中显示的指数的「涨跌幅」列均为红色（上涨）

## MODIFIED Requirements

### Requirement: 指数页面样式一致性

指数页面 MUST 与 ETF 页面保持一致的视觉风格和交互体验。

**验收标准**：
- 快速访问卡片结构与 ETF 页面相同
- 筛选面板布局与 ETF 页面相同
- 日期选择器位置和样式与 ETF 页面一致
- 表格样式（涨跌幅颜色、状态标签等）与 ETF 页面一致
- 分页组件样式一致
- 无数据提示弹窗样式一致
- 仅颜色主题有区别（指数使用紫色系）

#### Scenario: 对比 ETF 和指数页面布局

**Given** 用户分别访问 ETF 页面和指数页面
**When** 用户对比两个页面的布局
**Then** 两个页面具有相同的页面结构
**And** 日期选择器位于筛选面板顶部
**And** 快速访问区域位于顶部
**And** 筛选面板位于左侧
**And** 列表区域位于右侧
**And** 指数页面使用紫色渐变，ETF 页面使用粉色渐变
