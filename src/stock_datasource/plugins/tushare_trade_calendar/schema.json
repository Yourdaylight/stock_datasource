{
  "table_name": "ods_trade_calendar",
  "table_type": "ods",
  "columns": [
    {"name": "exchange", "data_type": "LowCardinality(String)", "nullable": false, "comment": "交易所代码"},
    {"name": "cal_date", "data_type": "Date", "nullable": false, "comment": "日历日期"},
    {"name": "is_open", "data_type": "UInt8", "nullable": false, "comment": "是否交易(0休市1交易)"},
    {"name": "pretrade_date", "data_type": "Date", "nullable": true, "comment": "上一个交易日"},
    {"name": "version", "data_type": "UInt32", "nullable": false, "default": "toUInt32(toUnixTimestamp(now()))", "comment": "版本号用于幂等"},
    {"name": "_ingested_at", "data_type": "DateTime", "nullable": false, "default": "now()", "comment": "数据入库时间"}
  ],
  "partition_by": "toYYYYMM(cal_date)",
  "order_by": ["exchange", "cal_date"],
  "engine": "ReplacingMergeTree",
  "engine_params": ["version"],
  "comment": "交易日历数据 from TuShare trade_cal API"
}
