{
  "table_name": "ods_idx_factor_pro",
  "table_type": "ods",
  "columns": [
    {"name": "ts_code", "data_type": "LowCardinality(String)", "nullable": false, "comment": "指数代码"},
    {"name": "trade_date", "data_type": "Date", "nullable": false, "comment": "交易日期"},
    {"name": "open", "data_type": "Nullable(Float64)", "nullable": true, "comment": "开盘价"},
    {"name": "high", "data_type": "Nullable(Float64)", "nullable": true, "comment": "最高价"},
    {"name": "low", "data_type": "Nullable(Float64)", "nullable": true, "comment": "最低价"},
    {"name": "close", "data_type": "Nullable(Float64)", "nullable": true, "comment": "收盘价"},
    {"name": "pre_close", "data_type": "Nullable(Float64)", "nullable": true, "comment": "昨收价"},
    {"name": "change", "data_type": "Nullable(Float64)", "nullable": true, "comment": "涨跌额"},
    {"name": "pct_change", "data_type": "Nullable(Float64)", "nullable": true, "comment": "涨跌幅（未复权）"},
    {"name": "vol", "data_type": "Nullable(Float64)", "nullable": true, "comment": "成交量（手）"},
    {"name": "amount", "data_type": "Nullable(Float64)", "nullable": true, "comment": "成交额（千元）"},
    {"name": "asi_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "振动升降指标"},
    {"name": "asit_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "振动升降指标趋势"},
    {"name": "atr_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "真实波动N日平均值"},
    {"name": "bbi_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BBI多空指标"},
    {"name": "bias1_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BIAS乖离率(L1=6)"},
    {"name": "bias2_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BIAS乖离率(L2=12)"},
    {"name": "bias3_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BIAS乖离率(L3=24)"},
    {"name": "boll_lower_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BOLL指标下轨"},
    {"name": "boll_mid_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BOLL指标中轨"},
    {"name": "boll_upper_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BOLL指标上轨"},
    {"name": "brar_ar_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BRAR情绪指标AR"},
    {"name": "brar_br_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "BRAR情绪指标BR"},
    {"name": "cci_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "顺势指标CCI"},
    {"name": "cr_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "CR价格动量指标"},
    {"name": "dfma_dif_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "平行线差指标DIF"},
    {"name": "dfma_difma_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "平行线差指标DIFMA"},
    {"name": "dmi_adx_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动向指标ADX"},
    {"name": "dmi_adxr_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动向指标ADXR"},
    {"name": "dmi_mdi_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动向指标MDI"},
    {"name": "dmi_pdi_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动向指标PDI"},
    {"name": "downdays", "data_type": "Nullable(Int64)", "nullable": true, "comment": "连跌天数"},
    {"name": "updays", "data_type": "Nullable(Int64)", "nullable": true, "comment": "连涨天数"},
    {"name": "dpo_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "区间震荡线"},
    {"name": "madpo_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "区间震荡线MA"},
    {"name": "ema_bfq_5", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=5"},
    {"name": "ema_bfq_10", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=10"},
    {"name": "ema_bfq_20", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=20"},
    {"name": "ema_bfq_30", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=30"},
    {"name": "ema_bfq_60", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=60"},
    {"name": "ema_bfq_90", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=90"},
    {"name": "ema_bfq_250", "data_type": "Nullable(Float64)", "nullable": true, "comment": "指数移动平均N=250"},
    {"name": "emv_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简易波动指标"},
    {"name": "maemv_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简易波动指标MA"},
    {"name": "expma_12_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "EMA指数平均数N1=12"},
    {"name": "expma_50_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "EMA指数平均数N2=50"},
    {"name": "kdj_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "KDJ指标J"},
    {"name": "kdj_d_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "KDJ指标D"},
    {"name": "kdj_k_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "KDJ指标K"},
    {"name": "ktn_down_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "肯特纳通道下轨"},
    {"name": "ktn_mid_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "肯特纳通道中轨"},
    {"name": "ktn_upper_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "肯特纳通道上轨"},
    {"name": "lowdays", "data_type": "Nullable(Int64)", "nullable": true, "comment": "最低价周期位置"},
    {"name": "topdays", "data_type": "Nullable(Int64)", "nullable": true, "comment": "最高价周期位置"},
    {"name": "ma_bfq_5", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=5"},
    {"name": "ma_bfq_10", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=10"},
    {"name": "ma_bfq_20", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=20"},
    {"name": "ma_bfq_30", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=30"},
    {"name": "ma_bfq_60", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=60"},
    {"name": "ma_bfq_90", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=90"},
    {"name": "ma_bfq_250", "data_type": "Nullable(Float64)", "nullable": true, "comment": "简单移动平均N=250"},
    {"name": "macd_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "MACD指标"},
    {"name": "macd_dea_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "MACD指标DEA"},
    {"name": "macd_dif_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "MACD指标DIF"},
    {"name": "mass_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "梅斯线"},
    {"name": "ma_mass_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "梅斯线MA"},
    {"name": "mfi_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "MFI指标"},
    {"name": "mtm_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动量指标"},
    {"name": "mtmma_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "动量指标MA"},
    {"name": "obv_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "能量潮指标"},
    {"name": "psy_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "投资者心理情绪指标"},
    {"name": "psyma_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "投资者心理情绪指标MA"},
    {"name": "roc_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "变动率指标"},
    {"name": "maroc_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "变动率指标MA"},
    {"name": "rsi_bfq_6", "data_type": "Nullable(Float64)", "nullable": true, "comment": "RSI指标N=6"},
    {"name": "rsi_bfq_12", "data_type": "Nullable(Float64)", "nullable": true, "comment": "RSI指标N=12"},
    {"name": "rsi_bfq_24", "data_type": "Nullable(Float64)", "nullable": true, "comment": "RSI指标N=24"},
    {"name": "taq_down_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "唐安奇通道下轨"},
    {"name": "taq_mid_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "唐安奇通道中轨"},
    {"name": "taq_up_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "唐安奇通道上轨"},
    {"name": "trix_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "三重指数平滑平均线"},
    {"name": "trma_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "三重指数平滑平均线MA"},
    {"name": "vr_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "VR容量比率"},
    {"name": "wr_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "W&R威廉指标"},
    {"name": "wr1_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "W&R威廉指标1"},
    {"name": "xsii_td1_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "薛斯通道II TD1"},
    {"name": "xsii_td2_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "薛斯通道II TD2"},
    {"name": "xsii_td3_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "薛斯通道II TD3"},
    {"name": "xsii_td4_bfq", "data_type": "Nullable(Float64)", "nullable": true, "comment": "薛斯通道II TD4"},
    {"name": "version", "data_type": "UInt32", "nullable": false, "default": "toUInt32(toUnixTimestamp(now()))", "comment": "版本号用于幂等"},
    {"name": "_ingested_at", "data_type": "DateTime", "nullable": false, "default": "now()", "comment": "数据入库时间"}
  ],
  "partition_by": "toYYYYMM(trade_date)",
  "order_by": ["ts_code", "trade_date"],
  "engine": "ReplacingMergeTree",
  "engine_params": ["version"],
  "comment": "Index technical factors from TuShare API (100+ indicators)"
}
