{
  "table_name": "ods_report_rc",
  "table_type": "ods",
  "columns": [
    {"name": "ts_code", "data_type": "LowCardinality(String)", "nullable": false, "comment": "股票代码"},
    {"name": "name", "data_type": "String", "nullable": true, "comment": "股票名称"},
    {"name": "report_date", "data_type": "Date", "nullable": false, "comment": "研报日期"},
    {"name": "report_title", "data_type": "String", "nullable": true, "comment": "报告标题"},
    {"name": "report_type", "data_type": "String", "nullable": true, "comment": "报告类型"},
    {"name": "classify", "data_type": "String", "nullable": true, "comment": "报告分类"},
    {"name": "org_name", "data_type": "String", "nullable": true, "comment": "机构名称"},
    {"name": "author_name", "data_type": "String", "nullable": true, "comment": "作者"},
    {"name": "quarter", "data_type": "String", "nullable": true, "comment": "预测报告期"},
    {"name": "op_rt", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测营业收入(万元)"},
    {"name": "op_pr", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测营业利润(万元)"},
    {"name": "tp", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测利润总额(万元)"},
    {"name": "np", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测净利润(万元)"},
    {"name": "eps", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测每股收益(元)"},
    {"name": "pe", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测市盈率"},
    {"name": "rd", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测股息率"},
    {"name": "roe", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测ROE"},
    {"name": "ev_ebitda", "data_type": "Nullable(Float64)", "nullable": true, "comment": "预测EV/EBITDA"},
    {"name": "rating", "data_type": "String", "nullable": true, "comment": "投资评级"},
    {"name": "max_price", "data_type": "Nullable(Float64)", "nullable": true, "comment": "目标价格上限"},
    {"name": "min_price", "data_type": "Nullable(Float64)", "nullable": true, "comment": "目标价格下限"},
    {"name": "version", "data_type": "UInt32", "nullable": false, "default": "toUInt32(toUnixTimestamp(now()))", "comment": "版本号用于幂等"},
    {"name": "_ingested_at", "data_type": "DateTime", "nullable": false, "default": "now()", "comment": "数据入库时间"}
  ],
  "partition_by": "toYYYYMM(report_date)",
  "order_by": ["report_date", "ts_code", "org_name"],
  "engine": "ReplacingMergeTree",
  "engine_params": ["version"],
  "comment": "Research report earnings forecast (研报盈利预测) data from TuShare API"
}
